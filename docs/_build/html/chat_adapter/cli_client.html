

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>CLI Client Adapter &mdash; emubot  documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.png"/>
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Support Your Chat Platform" href="your_custom_chat_adapter.html" />
    <link rel="prev" title="Slack" href="slack.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #5E2028" >
          

          
            <a href="../index.html" class="icon icon-home"> emubot
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuration.html">Configuration file</a></li>
</ul>
<p class="caption"><span class="caption-text">Chat Adapters</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="facebook_messenger.html">Facebook Messenger</a></li>
<li class="toctree-l1"><a class="reference internal" href="slack.html">Slack</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">CLI Client Adapter</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#exemplar-cli-config">Exemplar CLI Config</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="your_custom_chat_adapter.html">Support Your Chat Platform</a></li>
</ul>
<p class="caption"><span class="caption-text">Core</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../core/core_overview.html">Core</a></li>
<li class="toctree-l1"><a class="reference internal" href="../core/interfaces.html">Interceptors</a></li>
</ul>
<p class="caption"><span class="caption-text">NLP platforms</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../nlp_adapter/dialogflow.html">Dialogflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nlp_adapter/snips.html">Snips</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nlp_adapter/rasa.html">Rasa</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nlp_adapter/custom_nlp_adapter.html">Support Your NLP Platform</a></li>
</ul>
<p class="caption"><span class="caption-text">API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api.html">API Reference</a></li>
</ul>
<p class="caption"><span class="caption-text">Miscellaneous</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../contribute.html">Contribute</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about_us.html">About Us</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">emubot</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>CLI Client Adapter</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/chat_adapter/cli_client.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="cli-client-adapter">
<span id="cli-messenger"></span><h1>CLI Client Adapter<a class="headerlink" href="#cli-client-adapter" title="Permalink to this headline">¶</a></h1>
<p>The CLI client is a tool to quickly test the functionality of the emubot framework without the need to combine it with one of the
available chat options. This means that you can test the framework itself or a new NLP Adapter, without having to setup a server
and certificate for the chat platform.
You can only use text requests and only return texts as well. You cannot send images or other attachments.</p>
<div class="section" id="exemplar-cli-config">
<h2>Exemplar CLI Config<a class="headerlink" href="#exemplar-cli-config" title="Permalink to this headline">¶</a></h2>
<p>You can start using the CLI client by providing your own CLI config as shown in the example below. Note that the example assumes
that you have already created a NLP agent on some platform (for an example of an NLP configuration, see <a class="reference internal" href="../nlp_adapter/dialogflow.html#exemplar-df-config"><span class="std std-ref">Exemplar Dialogflow Configuration</span></a>).</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">platform</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">chat</span><span class="o">:</span> <span class="p">{</span>
                <span class="nx">appSecret</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
                <span class="nx">constructor</span><span class="o">:</span> <span class="nx">CliAdapter</span><span class="p">,</span>
                <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;cli&#39;</span><span class="p">,</span>
                <span class="nx">url</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
                <span class="nx">webhook_path</span><span class="o">:</span> <span class="s1">&#39;/webhook&#39;</span>
            <span class="p">},</span>
            <span class="nx">nlp</span> <span class="p">{</span>
                <span class="p">....</span>
</pre></div>
</div>
<p>Compile the code (<code class="code docutils literal notranslate"><span class="pre">npm</span> <span class="pre">run</span> <span class="pre">tsc</span></code>) and run <code class="code docutils literal notranslate"><span class="pre">npm</span> <span class="pre">run</span> <span class="pre">start</span></code>. This will start the framework in the CLI client configuration
You can also achieve this by not providing a configuration to the framework, in which case the framework will start with
the CLI client adapter. Note that by not providing a configuration, the framework will use a dummy NLP handler. In <cite>bin/</cite>
we have provided a <cite>cli.ts</cite> node script which represents the client part to the CLI adapter. You can start this script
by compiling (<code class="code docutils literal notranslate"><span class="pre">npm</span> <span class="pre">run</span> <span class="pre">tsc</span></code>) and simply running <code class="code docutils literal notranslate"><span class="pre">node</span> <span class="pre">/dist/bin/cli.js</span></code>. This will provide you with a simple CLI prompt
where you can enter your messages that will be send to the emubot framework. The CLI will also show you the response of the framework
and with the <cite>–verbose</cite> option you can force it to show you the complete response send by the framework. The emubot framework is able
to two message types for CLI messages as of now: <cite>CliClientInitialMessage</cite> and <cite>CliClientMessage</cite>. The first type is just a way to let the
framework know that a new user wants to communicate with the framework. The second type are messages with text that should be handled
by the core and sent to the NLP adapter (although you can of course interrupt this process within the interceptors).</p>
<p>The <cite>CliClientInitialMessage</cite> type is defined as:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>POST /hello
    <span class="o">{</span>
        type: <span class="s1">&#39;initial&#39;</span><span class="p">;</span>
        id: string<span class="p">;</span>
    <span class="o">}</span><span class="p">;</span>
</pre></div>
</div>
<p>The  <cite>CliClientMessage</cite> type is defined as:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>POST /
    <span class="o">{</span>
        type: <span class="s1">&#39;message&#39;</span><span class="p">;</span>
        text: string<span class="p">;</span>
        id: string<span class="p">;</span>
    <span class="o">}</span><span class="p">;</span>
</pre></div>
</div>
<p>The framework will answer with a <cite>CliClientResponse</cite> of the form</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">{</span>
    text: string<span class="p">;</span>
    id: string<span class="p">;</span>
<span class="o">}</span>
</pre></div>
</div>
<p>Of course you can also use the adapter in order to connect your own messaging application if you support this format.
You can simply send post requests to the respective webhook.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="your_custom_chat_adapter.html" class="btn btn-neutral float-right" title="Support Your Chat Platform" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="slack.html" class="btn btn-neutral float-left" title="Slack" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, eMundo GmbH

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>